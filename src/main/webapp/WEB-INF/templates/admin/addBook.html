<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title> 图书管理系统 </title>

    <script th:src="@{/js/jquery.min.js}" ></script>
    <script th:src="@{/js/afquery.js}" ></script>
    <script th:src="@{/js/jquery.form.js}" ></script>
    <link rel="stylesheet" th:href="@{/css/common.css}" />
    <link rel="stylesheet" th:href="@{/css/main.css}" />
    <link rel="stylesheet" href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">


    <script src="http://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <!-- layer.js 对话框API -->
    <script th:src="@{/layer/layer.js}" ></script>

    <style>
        *{
            magin: 0px;
            padding: 0px;
            box-sizing: border-box;
        }


        .frame{
            height: 670px;
            width: 1300px;
            margin: auto;  /*让外框架水平居中*/

        }
    </style>


</head>

<body th:background="@{/img/background.png}">
<!--<div class='banner'>-->
<!--    图书管理系统-->
<!--</div>-->

<div th:include="~{common::header}"></div>
<script th:inline="javascript">
    document.getElementsByClassName("header")[0].style.height="100px";
</script>

<div class="frame" style="margin-left: 5%">

    <ul class="list-group" style="width: 10%;margin-left: 2%;margin-top: 1%;float: left;">
        <a th:href="@{/admin/info}">
            <li class="list-group-item">个人信息</li>
        </a>
        <a th:href="@{/admin/deleteBook}">
            <li class="list-group-item">查询/删除书籍</li>
        </a>
        <a th:href="@{/admin/addBook}">
            <li class="list-group-item">录入新书</li>
        </a>
        <a th:href="@{/admin/deleteBorrower}">
            <li class="list-group-item">查询/删除用户</li>
        </a>
        <a th:href="@{/admin/addBorrower}">
            <li class="list-group-item">新增用户</li>
        </a>
    </ul>

    <div style="padding: 2px 60px 50px 60px;width: 65%;margin-left: 2%;margin-top: 1%;float: left">
        <form id="form1" class="bs-example bs-example-form" role="form" autocomplete="on">
            <div>
                <h4 class="text-center">请输入图书的信息</h4>
            </div>
            <div class="input-group">
                <span class="input-group-addon">书名</span>
                <input type="text" class="form-control" placeholder="请输入书名" id="title" required>
            </div>
            <br>
            <div class="input-group">
                <span class="input-group-addon">数量</span>
                <input type="text" class="form-control" placeholder="请输入添加数量" id="totalNum" required>
            </div>
            <br>
            <div class="input-group">
                <span class="input-group-addon">作者</span>
                <input type="text" class="form-control" placeholder="请输入图书作者" id="author" required>
            </div>
            <br>
            <div class="input-group">
                <span class="input-group-addon">类别</span>
                <input type="text" class="form-control" placeholder="请输入图书类别" list="choice"  id="category" required>
                <datalist id="choice">
                    <option value="经典名著"></option>
                    <option value="小说"></option>
                    <option value="现代文学"></option>
                    <option value="计算机"></option>
                    <option value="物理学"></option>
                    <option value="生活百科"></option>
                    <option value="传记"></option>
                </datalist>
            </div>
            <br>
            <div class="input-group">
                <span class="input-group-addon">价格</span>
                <input type="text" class="form-control" placeholder="请输入图书价格" id="price" required>
            </div>
            <br>
            <div class="input-group">
                <span class="input-group-addon">ISBN</span>
                <input type="text" class="form-control" placeholder="请输入图书ISBN码" id="ISBN" required>
            </div>
            <br>
            <button class="btn btn-primary center" id="btn_addBook">添加书籍</button>
        </form>
    </div>

</div>

</body>

<script>
    $('#btn_addBook').click(function (e) {
        var title = document.getElementById("title").value;
        var totalNum = document.getElementById("totalNum").value;
        var author = document.getElementById("author").value;
        var category = document.getElementById("category").value;
        var price = document.getElementById("price").value;
        var ISBN = document.getElementById("ISBN").value;

        var req = {
            'title': title,
            'totalNum': totalNum,
            'author': author,
            'category': category,
            'price': price,
            'ISBN': ISBN
        };
        Af.rest('[[@{/admin/addBook}]]', req, function () {
            layer.msg('成功', {
                time: 1000,
                end: function () {
                    location.href = '[[@{/admin/addBook}]]';
                }
            })
        })
    });

</script>
</html>
